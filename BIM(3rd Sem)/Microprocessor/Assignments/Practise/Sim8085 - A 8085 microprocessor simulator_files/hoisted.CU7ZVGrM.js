import{s as r}from"./supabase.8gYTNVjb.js";import"./hoisted.B4Vv-LkU.js";import{m as l}from"./module.esm.C3DXG5zi.js";import"./PostHogInit.astro_astro_type_script_index_0_lang.CDSUEbu3.js";import"./module.kS52VMSk.js";async function d(){const e=window.location.hash;if(e){const s=new URLSearchParams(e.substring(1)),n=s.get("access_token"),i=s.get("refresh_token");n&&i&&(await r.auth.setSession({access_token:n,refresh_token:i}),window.location.replace("/"))}}document.addEventListener("DOMContentLoaded",()=>{d()});window.addEventListener("showLeftPanel",()=>{const e=document.getElementById("left-panel");e&&(e.classList.contains("hidden")?e.classList.remove("hidden"):e.classList.add("hidden"))});window.addEventListener("showRightPanel",()=>{const e=document.getElementById("right-panel");e&&(e.classList.contains("hidden")?e.classList.remove("hidden"):e.classList.add("hidden"))});document.addEventListener("alpine:init",()=>{l.data("tipsModal",()=>({open:!0,tipContent:"",init(){const e=["/tips/Number.html","/tips/Comments.html","/tips/Labels.html"],s=JSON.parse(localStorage.getItem("readTips")||"[]").map(t=>`/tips/${t}.html`),n=e.filter(t=>!s.includes(t));if(window.addEventListener("showTips",()=>{const t=e[Math.floor(Math.random()*e.length)];this.currentTip=t.replace("/tips/","").replace(".html",""),console.log(t),fetch(t).then(o=>o.text()).then(o=>{this.tipContent=o}),this.open=!0}),localStorage.getItem("dontShowTip")==="true"){this.open=!1;return}if(n.length===0){this.open=!1;return}const a=n[Math.floor(Math.random()*n.length)];this.currentTip=a.replace("/tips/","").replace(".html",""),fetch(a).then(t=>t.text()).then(t=>{this.tipContent=t})},toggleDontShowAgain(e){e.target.checked?localStorage.setItem("dontShowTip","true"):localStorage.removeItem("dontShowTip")},startHoverTimer(){this.hoverTimer=setTimeout(()=>{this.markAsRead(this.currentTip)},3e3)},clearHoverTimer(){clearTimeout(this.hoverTimer)},markAsRead(e){let s=JSON.parse(localStorage.getItem("readTips")||"[]");s.includes(e)||(s.push(e),localStorage.setItem("readTips",JSON.stringify(s)))}}))});
